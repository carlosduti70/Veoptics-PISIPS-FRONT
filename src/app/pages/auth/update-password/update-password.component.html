<app-floating-configurator />
<p-toast></p-toast>

<div
    class="bg-surface-50 dark:bg-surface-950 flex items-center justify-center min-h-screen min-w-[100vw] overflow-hidden">
    <div class="flex flex-col items-center justify-center">

        <div
            style="border-radius: 56px; padding: 0.3rem; background: linear-gradient(180deg, var(--primary-color) 10%, rgba(33, 150, 243, 0) 30%)">
            <div class="w-full bg-surface-0 dark:bg-surface-900 py-20 px-8 sm:px-20" style="border-radius: 53px">

                <div class="flex flex-col items-center justify-center">
                    <img src="assets/image/logoestesi-02.svg" alt="VeopTics Logo" class="mx-auto" style="width: 15rem; display: block;">
                </div>

                <div class="text-center mb-8">
                    <div class="text-surface-900 dark:text-surface-0 text-3xl font-medium mb-4">Actualizar Contraseña
                    </div>
                    <span class="text-muted-color font-medium">Por seguridad, debe cambiar su contraseña
                        temporal.</span>
                </div>

                <form (ngSubmit)="onUpdatePassword()">

                    <label for="newPass" class="block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2">
                        Nueva Contraseña
                    </label>
                    <p-password id="newPass" [(ngModel)]="newPassword" name="newPassword"
                        placeholder="Ingrese nueva contraseña" [toggleMask]="true" styleClass="mb-4" [fluid]="true"
                        [feedback]="true" promptLabel="Ingrese una contraseña segura" weakLabel="Débil"
                        mediumLabel="Media" strongLabel="Fuerte" [disabled]="loading">
                    </p-password>

                    <label for="confirmPass"
                        class="block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2">
                        Confirmar Contraseña
                    </label>
                    <p-password id="confirmPass" [(ngModel)]="confirmPassword" name="confirmPassword"
                        placeholder="Repita la contraseña" [toggleMask]="true" styleClass="mb-8" [fluid]="true"
                        [feedback]="false" [disabled]="loading">
                    </p-password>

                    <p-button label="{{ loading ? 'Actualizando...' : 'Actualizar' }}" styleClass="w-full"
                        type="submit" [loading]="loading" [disabled]="loading || !newPassword || !confirmPassword">
                    </p-button>

                    <div class="text-center mt-6">
                        <a (click)="goBack()"
                            class="text-primary font-medium cursor-pointer transition-colors text-link-institutional">
                            <i class="pi pi-arrow-left mr-1 text-sm"></i> Cancelar y salir
                        </a>
                    </div>
                </form>

            </div>
        </div>
    </div>
</div>
